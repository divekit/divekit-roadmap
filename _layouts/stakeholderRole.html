---
layout: default
---

{% include /functions/get-globalid.html
        myCollection=site.stakeholderRoles myArtefact=page myType="stakeholderRole" %}
<h1>Stakeholder-Rolle »{{ page.name }}« ({{ globalId }})</h1>

<dl>
    <dt>Autor(en)</dt>
    {% include /functions/resolve-names.html my_responsible=page.responsible %}
    <dd>{{ responsibleString }}</dd>

    <dt>Beschreibung</dt>
    <dd>{{ page.description }}</dd>

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="stakeholder" myCollection=site.stakeholders %}
    {% assign stakeholderLinkList = linksString | split: ";" %}
    {% if stakeholderLinkList.size > 0 %}
        <dt>Stakeholder mit dieser Rolle</dt>
        {% for link in stakeholderLinkList %}
            <dd>{{ link }}</dd>
        {% endfor %}
    {% endif %}

    {% comment %}--- Suche die Interviews, Surveys, Workshops zu der Stakeholder-Rolle ---{% endcomment %}

    {% assign stakeholderAcronymList = acronymString | split: ";" %}
    {% assign interviewList = "" | split: ";" %}
    {% for stakeholderAcronym in stakeholderAcronymList %}
        {% assign foundInterviews = site.interviews | where: "stakeholder", stakeholderAcronym %}
        {% assign interviewList = interviewList | concat: foundInterviews %}
    {% endfor %}

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="survey" myCollection=site.surveys withID=true %}
    {% assign surveyLinkList = linksString | split: ";" %}

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="workshop" myCollection=site.workshops withID=true %}
    {% assign workshopLinkList = linksString | split: ";" %}

    {% if interviewList.size > 0 or surveyLinkList.size > 0 or workshopLinkList.size > 0 %}
        <dt>Datenerhebungen für diese Stakeholder-Rolle</dt>
        {% for interview in interviewList %}
            {% include /functions/get-interview-name.html myInterview=page %}
            {% include /functions/get-globalid.html myCollection=site.interviews
                    myArtefact=interview myType="interview" %}
            <dd><a href="{{ site.url }}{{ interview.url | relative_url }}">{{ globalId }}: {{ interviewName }}</a></dd>
        {% endfor %}
        {% for surveyLink in surveyLinkList %}
           <dd>{{ surveyLink }}</dd>
        {% endfor %}
        {% for workshopLink in workshopLinkList %}
            <dd>{{ workshopLink }}</dd>
        {% endfor %}
    {% endif %}

    {% comment %}--- Suche die Artefakte, bei denen die Rolle vorkommen ---{% endcomment %}

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="persona" myCollection=site.personas withID=true %}
    {% assign personaLinkList = linksString | split: ";" %}

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="useCase" myCollection=site.useCases withID=true %}
    {% assign useCaseLinkList = linksString | split: ";" %}

    {% include /functions/find-artefacts-referencing-stakeholder-role.html
            myStakeholderRole=page myType="userStory" myCollection=site.userStories withID=true %}
    {% assign userStoryLinkList = linksString | split: ";" %}

    {% if personaLinkList.size > 0 or userStoryLinkList.size > 0 %}
        <dt>Wo tritt diese Stakeholder-Rolle als Aktor auf?</dt>
        {% for personaLink in personaLinkList %}
            <dd>{{ personaLink }}</dd>
        {% endfor %}
        {% for userCaseLink in useCaseLinkList %}
            <dd>{{ userCaseLink }}</dd>
        {% endfor %}
        {% for userStoryLink in userStoryLinkList %}
            <dd>{{ userStoryLink }}</dd>
        {% endfor %}
    {% endif %}

    {% include /functions/print-history.html myArtefact=page %}

    {% include /functions/checks/check-generic-aspects.html myArtefact=page
            myErrorString="" myWarningString="" %}
    {% include /functions/checks/check-stakeholderRole.html myArtefact=page
            myErrorString=errorString myWarningString=warningString %}
    {% include /functions/print-detailed-check-messages.html errors=errorString warnings=warningString todos=page.todo %}
</dl>


{{ page.content }}
